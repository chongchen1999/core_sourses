异常（Exception）是指程序在运行过程中出现的**非正常事件或错误**，它打断了程序的正常执行流程。处理异常是软件开发中确保程序健壮性和稳定性的关键环节。

---

## 1. 异常的类别

异常可以从多个维度分类：

### 1.1 按异常的来源

* **语法错误（Syntax Error）**：代码不符合语法规则，编译或解释阶段就会报错。
* **运行时异常（Runtime Exception）**：程序运行过程中发生的问题，如除零、数组越界、空指针引用等。
* **逻辑错误（Logic Error）**：代码能运行，但行为不符合预期，通常是程序员的思维错误。

### 1.2 按语言支持

* **受检查异常（Checked Exception）**：必须显式处理（如 Java 中的 IOException）。
* **非受检查异常（Unchecked Exception）**：可选择处理（如 Java 中的 NullPointerException）。

---

## 2. 异常处理

异常处理的目标是：**发现异常、捕获异常、做出响应或恢复程序运行**。

### 2.1 通用处理机制（以 Python 为例）

```python
try:
    result = 10 / 0
except ZeroDivisionError as e:
    print(f"发生异常：{e}")
finally:
    print("无论是否发生异常，都会执行")
```

### 2.2 处理原则

* **捕获并修复**：如果能处理异常，使程序恢复运行。
* **抛出上层**：无法处理的异常，抛给上层函数处理。
* **记录日志**：记录异常信息，方便排查。
* **终止程序**：在无法继续运行的情况下，优雅退出。

---

## 3. Linux 中的异常

在 Linux 操作系统中，“异常”通常指的是 CPU 执行过程中出现的非正常事件，包括硬件和软件层面：

### 3.1 异常类型

* **同步异常（Synchronous Exception）**：由当前指令直接引起，如：

  * 分页错误（Page Fault）
  * 系统调用（System Call）
  * 除零错误（Divide by Zero）
* **异步异常（Asynchronous Exception）**：由外部设备中断引起，如：

  * 键盘输入
  * 定时器中断

Linux 内核将这些异常归为：

* **中断（Interrupts）**：外部硬件设备发出的信号。
* **陷阱（Traps）**：用户程序触发的系统调用。
* **故障（Faults）**：可恢复的错误，如缺页异常。
* **终止（Aborts）**：不可恢复错误，如硬件故障或非法指令。

### 3.2 Linux 中的异常处理流程

1. CPU 检测到异常，切换到内核态。
2. 查找对应的中断向量表或异常向量表。
3. 执行相应的异常处理程序（如 page\_fault()）。
4. 内核处理完毕，返回用户态或终止程序。

---

### 总结

| 分类       | 描述              |
| -------- | --------------- |
| 软件层异常    | 编程错误、逻辑错误、运行时错误 |
| 硬件/OS层异常 | 中断、故障、系统调用、页错误  |
| 处理方式     | 捕获-恢复、记录-上报、终止  |

